<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hakimi Dawakhana ‚Äî Demo Shop</title>
<style>
  /* ---------- RESET / BASIC ---------- */
  *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  body{margin:0;background:#f5f7fb;color:#111}
  a{color:inherit}

  /* ---------- HEADER / SEARCH ---------- */
  header{background:#fff;padding:12px 16px;box-shadow:0 6px 18px rgba(15,23,42,0.06);position:sticky;top:0;z-index:60}
  .header-inner{display:flex;align-items:center;gap:12px;justify-content:space-between;flex-wrap:wrap;max-width:1200px;margin:0 auto}
  .brand-left{display:flex;align-items:center;gap:14px}
  .brand-logo{height:76px;border-radius:12px;object-fit:cover}
  .brand-title{font-weight:900;color:#0b5d28;font-size:28px;line-height:1}
  .brand-sub{font-size:13px;color:#6b7280;margin-top:4px}

  .controls{display:flex;gap:10px;align-items:center}
  .btn-cart-top{background:#0b5d28;color:#fff;padding:10px 12px;border-radius:8px;border:0;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:8px}
  #search{padding:10px 12px;border-radius:8px;border:1px solid #e6e9ef;width:320px}

  /* ---------- BRAND SLIDER ---------- */
  .brand-slider{width:100%;overflow:hidden;background:#fff;padding:12px 0;border-top:1px solid #eef3fb;border-bottom:1px solid #eef3fb}
  .brand-track{display:flex;gap:28px;align-items:center;animation:scrollBrands 18s linear infinite;padding:0 16px}
  .brand-track img{height:64px;object-fit:contain;cursor:pointer;filter:drop-shadow(0 6px 12px rgba(15,23,42,0.06));border-radius:6px}
  @keyframes scrollBrands{from{transform:translateX(0)}to{transform:translateX(-50%)}}

  /* ---------- MAIN LAYOUT ---------- */
  .container{max-width:1100px;margin:18px auto;padding:0 16px}
  #categories{margin:8px 0 16px;display:flex;gap:8px;flex-wrap:wrap}
  #categories button{padding:8px 12px;border-radius:999px;border:1px solid #e6e9ef;background:#fff;cursor:pointer}
  #categories button.active{background:#0b5d28;color:#fff;border-color:#0b5d28}

  .products-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}

  /* ---------- PRODUCT CARD ---------- */
  .product{background:#fff;border-radius:12px;padding:12px;box-shadow:0 10px 24px rgba(11,45,77,0.04);display:flex;flex-direction:column;min-height:320px}
  .media{height:160px;background:linear-gradient(180deg,#f8fbff,#fff);display:flex;align-items:center;justify-content:center;border-radius:8px;overflow:hidden}
  .media img{max-height:140px;max-width:100%;object-fit:contain}
  .pbody{padding-top:10px;display:flex;flex-direction:column;gap:8px;flex:1}
  h4{margin:0;font-size:16px;color:#0b3a66}
  .meta{color:#6b7280;font-size:13px}
  .unit-row{display:flex;gap:8px;align-items:center;margin-top:6px}
  select.select-unit{padding:8px;border-radius:8px;border:1px solid #e6e9ef}
  .price{font-weight:800;color:#0b3a66}
  .actions{display:flex;gap:8px;margin-top:10px;align-items:center}
  .btn{padding:10px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700}
  .btn-buy{background:#ff6f00;color:#fff}
  .btn-cart{background:#0b5d96;color:#fff}

  .id-small{font-size:12px;color:#9aa3b2;margin-left:auto}

  /* ---------- STICKY BOTTOM CART BAR (150px height banner area) ---------- */
  .bottom-banner{position:fixed;left:0;right:0;bottom:0;height:150px;background:#fff;border-top:1px solid #e8eef8;display:flex;align-items:center;justify-content:center;padding:12px;z-index:90;box-shadow:0 -8px 30px rgba(11,45,77,0.06)}
  .banner-inner{max-width:1200px;width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:0 16px}
  .cart-summary{display:flex;gap:12px;align-items:center}
  .cart-count{background:#0b5d96;color:#fff;padding:8px 10px;border-radius:999px;font-weight:800}
  .banner-actions{display:flex;gap:8px}
  .btn-view{background:#fff;border:1px solid #0b5d96;color:#0b5d96;padding:10px 14px;border-radius:8px}
  .btn-checkout{background:#ff6f00;color:#fff;padding:10px 14px;border-radius:8px;border:0}

  /* ---------- HELP FLOAT ---------- */
  #helpCentre{position:fixed;right:18px;bottom:200px;z-index:999;display:flex;flex-direction:column;align-items:center;gap:8px}
  #helpIcon{width:56px;height:56px;border-radius:12px;background:#0b5d28;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;cursor:pointer;box-shadow:0 12px 30px rgba(11,45,77,0.15)}
  #helpText{font-size:13px;background:rgba(11,93,150,0.08);padding:6px 10px;border-radius:8px;color:#0b5d28}
  #helpMenu{display:none;margin-top:6px;background:#fff;border-radius:10px;box-shadow:0 12px 30px rgba(11,45,77,0.12);overflow:hidden}
  #helpMenu a{display:block;padding:10px 14px;text-decoration:none;color:#0b3a66;border-bottom:1px solid #eef3fb}
  #helpMenu a:last-child{border-bottom:0}
  #helpCentre:hover #helpMenu{display:block;transform:translateY(-6px)}

  /* ---------- MODAL ---------- */
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:1000}
  .modal{width:420px;background:#fff;padding:16px;border-radius:10px;box-shadow:0 20px 60px rgba(11,45,77,0.18)}
  .modal h3{margin:0 0 8px}
  .form-row{display:flex;gap:8px;flex-wrap:wrap}
  input[type="text"], input[type="tel"], textarea, select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef}
  textarea{resize:vertical}
  .pay-options{display:flex;gap:8px;margin-top:8px}
  .pay-options label{display:flex;gap:8px;align-items:center;padding:8px;border-radius:8px;border:1px solid #e6e9ef;cursor:pointer}

  /* ---------- RESPONSIVE ---------- */
  @media(max-width:760px){
    .brand-title{font-size:20px}
    .brand-logo{height:60px}
    #search{width:100%}
    .brand-track img{height:48px}
    .modal{width:94%}
    .bottom-banner{height:120px}
    #helpIcon{width:52px;height:52px}
  }
</style>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="header-inner">
    <div class="brand-left">
      <img class="brand-logo" src="file_00000000b110720789ddfb2945ccfcfd.png" alt="Hakimi Logo">
      <div>
        <div class="brand-title">HAKIMI <span style="color:#e26c20">DAWAKHANA</span></div>
        <div class="brand-sub">Trusted Unani & Herbal Remedies ‚Äî Home Delivery</div>
      </div>
    </div>

    <div class="controls">
      <!-- Add to Cart top (user requested before search) -->
      <button id="openCartTop" class="btn-cart-top">üõí Add to Cart (<span id="cartTopCount">0</span>)</button>
      <input id="search" type="search" placeholder="Search products, e.g. Oil, Syrup..." />
    </div>
  </div>
</header>

<!-- brand slider -->
<div class="brand-slider">
  <div class="brand-track" id="brandTrack">
    <img src="https://i.imghippo.com/files/DFIU3752POk.jpg" alt="Hamdard" onclick="filterBrand('hamdard')">
    <img src="https://i.imghippo.com/files/VbrZ2044JI.png" alt="Oeba" onclick="filterBrand('oeba')">
    <img src="https://i.imghippo.com/files/cBH7059Gcc.jpg" alt="Rex" onclick="filterBrand('rex')">
    <img src="https://i.imghippo.com/files/YF5480Ag.png" alt="Tibbiya" onclick="filterBrand('tibbiya')">
    <img src="https://i.imghippo.com/files/ZloP5326X.png" alt="Shama" onclick="filterBrand('shama')">
    <img src="https://i.imghippo.com/files/jeQ1539IeI.jpg" alt="Cure" onclick="filterBrand('cure')">
    <img src="https://i.imghippo.com/files/rEdE6971qsQ.png" alt="Dabur" onclick="filterBrand('dabur')">
    <img src="https://i.imghippo.com/files/nhy7967rgc.jpg" alt="Ambic" onclick="filterBrand('ambic')">
    <img src="https://i.imghippo.com/files/HnjF6152Ydk.jpg" alt="Dehlvi" onclick="filterBrand('dehlvi')">
    <img src="https://i.imghippo.com/files/Vw1434AQU.jpg" alt="Baidyanath" onclick="filterBrand('baidyanath')">
  </div>
</div>

<!-- main -->
<main class="container">
  <div id="categories"></div>
  <div id="productsGrid" class="products-grid"></div>
  <p id="noResults" style="display:none;color:#666;margin-top:12px">No products found.</p>
</main>

<!-- bottom banner (sticky) -->
<div class="bottom-banner" id="bottomBanner" aria-hidden="true" style="display:none">
  <div class="banner-inner">
    <div class="cart-summary">
      <div class="cart-count" id="cartCount">0</div>
      <div>
        <div style="font-weight:800" id="cartItemsText">0 items</div>
        <div style="color:#6b7280" id="cartTotalText">Total ‚Çπ0</div>
      </div>
    </div>

    <div class="banner-actions">
      <button class="btn-view" id="viewCartBtn">View Cart</button>
      <button class="btn-checkout" id="checkoutBtn">Checkout</button>
    </div>
  </div>
</div>

<!-- help centre -->
<div id="helpCentre" title="Help centre">
  <div id="helpIcon" style="background-image:url('https://i.ibb.co/W4xVX1QH/images-2.png');background-size:cover;background-position:center"></div>
  <div id="helpText">Help Centre</div>
  <div id="helpMenu">
    <!-- Enquiry: user asked earlier for 7398614905 (call + whatsapp) -->
    <a href="https://wa.me/917398614905" target="_blank">üìû Enquiry (Call/WhatsApp)</a>
    <!-- Doctor: user gave 8114068969 -->
    <a href="https://wa.me/918114068969" target="_blank">üë®‚Äç‚öïÔ∏è Dr. Contact</a>
  </div>
</div>

<!-- buy modal (hidden) -->
<div id="modalWrap" style="display:none">
  <div class="overlay">
    <div class="modal" role="dialog" aria-modal="true">
      <h3 id="modalTitle">Buy Now</h3>

      <div style="margin-top:8px">
        <div style="font-weight:700" id="modalProductLine">Product ‚Äî Unit ‚Äî ‚Çπ0</div>
      </div>

      <div style="margin-top:12px">
        <label>Full name<input id="buyerName" type="text" placeholder="Your name"></label>
      </div>
      <div style="margin-top:8px">
        <label>Mobile<input id="buyerPhone" type="tel" placeholder="+91"></label>
      </div>
      <div style="margin-top:8px">
        <label>PIN Code<input id="buyerPin" type="text" placeholder="PIN code"></label>
      </div>
      <div style="margin-top:8px">
        <label>Full address<textarea id="buyerAddress" rows="3" placeholder="House no., street, area"></textarea></label>
      </div>
      <div style="margin-top:8px">
        <label>Landmark<input id="buyerLandmark" type="text" placeholder="Nearby / landmark"></label>
      </div>

      <div style="margin-top:10px">
        <div style="font-weight:700;margin-bottom:6px">Payment</div>
        <div class="pay-options">
          <label><input type="radio" name="pay" value="COD" checked> COD</label>
          <label><input type="radio" name="pay" value="Online"> Online (UPI)</label>
        </div>
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button id="modalCancel" class="btn" style="background:#eef3fb;color:#0b5d96">Cancel</button>
        <button id="modalPlace" class="btn" style="background:#ff6f00;color:#fff">Place Order</button>
      </div>
    </div>
  </div>
</div>

<script>
/* ---------- CONFIG ---------- */
const STORE_WA = "919454308431"; // store WhatsApp (order receiver)
const ENQUIRY_WA = "917398614905"; // enquiry (user previously used 7398614905 ‚Äî keep 739? user gave many; using provided earlier 7398614905)
const DOCTOR_WA = "918114068969";

/* ---------- PRODUCTS (example data) ----------
Each product has units: object with unitName:price
Add or edit products here as needed.
*/
const PRODUCTS = [
  { id:1, name:"Ajwah", brand:"oeba", category:"Syrup", img:"https://i.ibb.co/0RsmfmR0/IMG-20250505-WA0039.jpg",
    units: {"100ml":120, "200ml":220, "500ml":500}
  },
  { id:2, name:"Nizami Marham", brand:"oeba", category:"Ointment", img:"https://i.ibb.co/RTSgD5nD/IMG-20250505-WA0040.jpg",
    units: {"single":55}
  },
  { id:3, name:"Hakimi Tel", brand:"oeba", category:"Oil", img:"https://i.ibb.co/2rT66cS/IMG-20250505-WA0036.jpg",
    units: {"100ml":120, "200ml":220}
  },
  { id:4, name:"Tazgi", brand:"oeba", category:"Majoon", img:"https://i.ibb.co/pBmM1hNh/IMG-20250505-WA0034.jpg",
    units: {"125g":220}
  },
  { id:5, name:"Navjivan Arq", brand:"oeba", category:"Syrup", img:"https://i.ibb.co/7d4GjS6v/IMG-20250505-WA0035.jpg",
    units: {"100ml":130, "200ml":240}
  },
  { id:19, name:"Masiha", brand:"oeba", category:"Syrup", img:"https://i.ibb.co/RkC4Ws41/MASIHA.png",
    units: {"100ml":89, "200ml":171, "500ml":418}
  },
  { id:21, name:"Dehlvi Product", brand:"dehlvi", category:"Syrup", img:"https://i.imghippo.com/files/HnjF6152Ydk.jpg",
    units: {"100ml":150, "200ml":270}
  },
  { id:20, name:"Shabab-e-Azam", brand:"others", category:"Majun", img:"https://i.ibb.co/6c9j8gcX/IMG-20250505-WA0010.jpg",
    units: {"150g":550}
  }
  // add more...
];

/* ---------- STATE ---------- */
let cart = []; // entries: { id, unit, price, qty }
const grid = document.getElementById('productsGrid');
const catDiv = document.getElementById('categories');
const searchInput = document.getElementById('search');
const noResults = document.getElementById('noResults');
const bottomBanner = document.getElementById('bottomBanner');
const cartCountEl = document.getElementById('cartCount');
const cartItemsText = document.getElementById('cartItemsText');
const cartTotalText = document.getElementById('cartTotalText');
const cartTopCount = document.getElementById('cartTopCount');

/* ---------- DUPLICATE BRAND LOGOS FOR SMOOTH SLIDE ---------- */
(function duplicateLogos(){
  const track = document.querySelector('.brand-track');
  if(track) track.innerHTML += track.innerHTML;
})();

/* ---------- CATEGORIES ---------- */
const categories = ["All", ...new Set(PRODUCTS.map(p=>p.category))];
function renderCategories(){
  catDiv.innerHTML="";
  categories.forEach(cat=>{
    const b = document.createElement('button');
    b.textContent = cat;
    if(cat==="All") b.classList.add('active');
    b.onclick = ()=> {
      document.querySelectorAll('#categories button').forEach(x=>x.classList.remove('active'));
      b.classList.add('active');
      renderProducts(cat, searchInput.value);
    };
    catDiv.appendChild(b);
  });
}

/* ---------- RENDER PRODUCTS ---------- */
function renderProducts(category="All", search=""){
  grid.innerHTML="";
  search = (search||"").toLowerCase();
  const filtered = PRODUCTS.filter(p=>
    (category==="All"||p.category===category) &&
    (p.name.toLowerCase().includes(search) || p.brand.toLowerCase().includes(search) || p.category.toLowerCase().includes(search))
  );

  if(filtered.length===0){ noResults.style.display="block"; return; }
  noResults.style.display="none";

  filtered.forEach(p=>{
    const units = Object.keys(p.units || {});
    const defaultUnit = units[0] || "";
    const defaultPrice = p.units[defaultUnit] || 0;

    const card = document.createElement('div');
    card.className = 'product';
    card.innerHTML = `
      <div class="media"><img src="${p.img}" alt="${p.name}"></div>
      <div class="pbody">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h4>${p.name}</h4>
          <div class="meta">${p.brand}</div>
        </div>
        <div class="meta">${p.category}</div>

        <div class="unit-row">
          <select class="select-unit" data-id="${p.id}">
            ${units.map(u=>`<option value="${u}">${u}</option>`).join('')}
          </select>
          <div style="margin-left:auto;font-weight:900" class="price">‚Çπ<span class="price-val">${defaultPrice}</span></div>
        </div>

        <div class="actions">
          <button class="btn btn-buy" data-buy="${p.id}">Buy Now</button>
          <button class="btn btn-cart" data-cart="${p.id}">Add to Cart</button>
          <div class="id-small">ID: ${p.id}</div>
        </div>
      </div>
    `;
    grid.appendChild(card);

    // listeners
    const select = card.querySelector('.select-unit');
    const priceVal = card.querySelector('.price-val');

    select.addEventListener('change', ()=>{
      const unit = select.value;
      priceVal.textContent = p.units[unit] || 0;
    });

    card.querySelector('[data-cart]').addEventListener('click', ()=>{
      addToCart(p.id, select.value || defaultUnit);
    });

    card.querySelector('[data-buy]').addEventListener('click', ()=>{
      openBuy(p.id, select.value || defaultUnit);
    });
  });
}

/* ---------- CART LOGIC ---------- */
function addToCart(productId, unit){
  const prod = PRODUCTS.find(x=>x.id===productId);
  if(!prod) return alert("Product not found");
  const price = prod.units[unit] || 0;
  const existing = cart.find(i=>i.id===productId && i.unit===unit);
  if(existing) existing.qty += 1;
  else cart.push({ id: productId, unit, price, qty: 1, name: prod.name });
  updateCartUI();
}

function updateCartUI(){
  const totalQty = cart.reduce((s,i)=>s+i.qty,0);
  const totalPrice = cart.reduce((s,i)=>s + (i.price * i.qty),0);
  cartCountEl.textContent = totalQty;
  cartTopCount.textContent = totalQty;
  cartItemsText.textContent = `${totalQty} item${totalQty!==1?'s':''}`;
  cartTotalText.textContent = `Total ‚Çπ${totalPrice}`;
  if(totalQty>0) bottomBanner.style.display='flex'; else bottomBanner.style.display='none';
}

/* view cart & checkout handlers */
document.getElementById('viewCartBtn').addEventListener('click', ()=> {
  if(cart.length===0) return alert("Cart empty");
  const lines = cart.map(i=> `${i.name} (${i.unit}) x${i.qty} ‚Äî ‚Çπ${i.price*i.qty}`).join('\n');
  const total = cart.reduce((s,i)=>s + i.price*i.qty, 0);
  alert(`Cart:\n\n${lines}\n\nTotal: ‚Çπ${total}`);
});

document.getElementById('checkoutBtn').addEventListener('click', ()=> {
  if(cart.length===0) return alert("Cart empty");
  openBuyFromCart();
});

/* ---------- BUY FLOW (modal) ---------- */
const modalWrap = document.getElementById('modalWrap');
let buying = null; // {id, unit}
function openBuy(productId, unit){
  const prod = PRODUCTS.find(x=>x.id===productId);
  if(!prod) return;
  buying = { id: productId, unit };
  document.getElementById('modalProductLine').textContent = `${prod.name} ‚Äî ${unit} ‚Äî ‚Çπ${prod.units[unit]}`;
  document.getElementById('modalTitle').textContent = 'Buy Now';
  modalWrap.style.display = 'block';
  window.scrollTo(0,0);
}
function openBuyFromCart(){
  const total = cart.reduce((s,i)=>s + i.price*i.qty,0);
  document.getElementById('modalTitle').textContent = 'Checkout';
  document.getElementById('modalProductLine').textContent = `Cart ‚Äî ${cart.reduce((s,i)=>s+i.qty,0)} item(s) ‚Äî ‚Çπ${total}`;
  buying = { fromCart: true };
  modalWrap.style.display = 'block';
}

/* modal buttons */
document.getElementById('modalCancel').addEventListener('click', ()=> {
  modalWrap.style.display = 'none';
});
document.getElementById('modalPlace').addEventListener('click', ()=> {
  placeOrder();
});

/* ---------- PLACE ORDER -> WhatsApp ---------- */
function placeOrder(){
  const name = document.getElementById('buyerName').value.trim();
  const phone = document.getElementById('buyerPhone').value.trim();
  const pin = document.getElementById('buyerPin').value.trim();
  const address = document.getElementById('buyerAddress').value.trim();
  const landmark = document.getElementById('buyerLandmark').value.trim();
  const pay = document.querySelector('input[name="pay"]:checked')?.value || 'COD';

  if(!address || !pin){
    return alert("Please enter PIN code and Full address (required).");
  }

  let msg = `üõí NEW ORDER%0AStore: Hakimi Dawakhana%0A`;

  if(buying && buying.fromCart){
    cart.forEach(item=>{
      msg += `%0A‚Ä¢ ${item.name} (${item.unit}) x${item.qty} ‚Äî ‚Çπ${item.price*item.qty}`;
    });
    const total = cart.reduce((s,i)=>s + i.price*i.qty,0);
    msg += `%0A%0ATotal: ‚Çπ${total}`;
  } else if(buying){
    const prod = PRODUCTS.find(x=>x.id===buying.id);
    const price = prod.units[buying.unit] || 0;
    msg += `%0A‚Ä¢ ${prod.name} (${buying.unit}) x1 ‚Äî ‚Çπ${price}`;
    msg += `%0A%0ATotal: ‚Çπ${price}`;
  } else {
    return alert("No produ
